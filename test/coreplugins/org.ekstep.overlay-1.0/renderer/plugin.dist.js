org.ekstep.pluginframework.pluginManager.registerPlugin({"id":"org.ekstep.overlay","ver":"1.0","shortId":"org.ekstep.overlay","author":"Vinu Kumar V S","description":"","publishedDate":"","renderer":{"main":"renderer/plugin.js","views":[{"template":"./templates/overlay.html","controller":"./controller/overlay.js"},{"template":"./templates/menu.html"}]},"dependencies":[{"plugin":"org.ekstep.genie","ver":"1.0","scope":"renderer"},{"plugin":"org.ekstep.nextnavigation","ver":"1.0","scope":"renderer"},{"plugin":"org.ekstep.previousnavigation","ver":"1.0","scope":"renderer"},{"plugin":"org.ekstep.userswitcher","ver":"1.0","scope":"renderer"}]},Plugin.extend({_templatePath:void 0,_userSwitcherTP:void 0,_menuTP:void 0,_type:"overlay",_ngScopeVar:"overlay",_config:{},overlayVisible:!1,initialize:function(){console.info("overlay plugin is doing initialize....");var e=this,t=EkstepRendererAPI.getGlobalConfig();e._config=_.extend(e._config,t.overlay),this._templatePath=org.ekstep.pluginframework.pluginManager.resolvePluginResource(this._manifest.id,this._manifest.ver,"renderer/templates/overlay.html"),this.controllerPath=org.ekstep.pluginframework.pluginManager.resolvePluginResource(this._manifest.id,this._manifest.ver,"renderer/controller/overlay.js"),org.ekstep.service.controller.loadNgModules(require("./templates/overlay.html"),require("./controller/overlay.js"),!0),this._menuTP=org.ekstep.pluginframework.pluginManager.resolvePluginResource(this._manifest.id,this._manifest.ver,"renderer/templates/menu.html"),org.ekstep.service.controller.loadNgModules(require("./templates/menu.html"),void 0,!0),EkstepRendererAPI.addEventListener("render:overlay:applyStyles",e.updateRendererStyles,e),EkstepRendererAPI.addEventListener("renderer:overlay:show",e.showOrHideOverlay,e),EkstepRendererAPI.addEventListener("renderer:content:start",e.showOrHideOverlay,e)},showOrHideOverlay:function(){this.overlayVisible=!0},updateRendererStyles:function(e,t){setTimeout(function(){var e=document.getElementById("overlay"),t=16/9,r=window.innerWidth>window.innerHeight?window.innerWidth:window.innerHeight,n=window.innerWidth>window.innerHeight?window.innerHeight:window.innerWidth;t<r/n?(r=n*t,e.style.height=n+"px",e.style.width=r+"px"):(n=r/t,e.style.width=r+"px",e.style.height=n+"px"),e.style.left="50%",e.style.top="50%",e.style.marginTop=-n/2+"px",e.style.marginLeft=-r/2+"px"},0)},applyStyles:function(e,t,r){e.style[t]=r;document.getElementById(Renderer.divIds.contentArea)}}))