org.ekstep.pluginframework.pluginManager.registerPlugin({"id":"org.ekstep.previousnavigation","ver":"1.0","shortId":"org.eskstep.previousnavigation","author":"Akash Gupta","description":"","publishedDate":"","renderer":{"main":"renderer/plugin.js"}},Plugin.extend({_type:"navigation",initialize:function(){console.info("Previous navigation intialize");var e=EkstepRendererAPI.resolvePluginResource(this._manifest.id,this._manifest.ver,"renderer/assets/previous.png");app.compileProvider.directive("previousNavigation",["$rootScope",function(o){return{restrict:"E",template:'<div><a class="nav-icon nav-previous" ng-show="showOverlayPrevious !== state_off" ng-class="{\'nav-disable\': showOverlayPrevious == state_disable}" href="javascript:void(0);"><img ng-src="{{previousIcon}}" ng-click="navigate(\'previous\')"></a></div>',link:function(s){s.previousIcon=e,s.changeValue=function(e){var r,i=EkstepRendererAPI.getGlobalConfig().overlay.showPrevious?"on":"off";switch(e.type){case"overlayPrevious":r=e.target?e.target:i;break;case"renderer:previous:show":r="on";break;case"renderer:previous:hide":r="off"}if("on"==r){var n=EkstepRendererAPI.getStageParam("previous");_.isUndefined(n)?(r="disable",EkstepRendererAPI.isItemScene()&&EkstepRendererAPI.getCurrentController().hasPrevious()&&(r="enable")):r="enable"}s.showOverlayPrevious=r,o.safeApply()},_.each(["renderer:previous:show","renderer:previous:hide","overlayPrevious"],function(e){EkstepRendererAPI.addEventListener(e,s.changeValue,s)})}}}])}}))